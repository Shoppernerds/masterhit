<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MasterHit | Cartas Pokémon en Chile</title>
  <meta name="description" content="Compra sellados, sobres o singles de Pokemon TCG al mejor precio y con entrega rápida en Huechuraba, Lampa, Colina y Quilicura." />
  <meta property="og:title" content="MasterHit | Cartas Pokémon en Chile">
  <meta property="og:description" content="Cajas selladas, ETB, boosters y singles. Envíos a todo Chile.">
  <meta property="og:type" content="website">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Ccircle cx='128' cy='128' r='120' fill='%23e60000'/%3E%3Cpath d='M8 128a120 120 0 01240 0' fill='%23fff'/%3E%3Ccircle cx='128' cy='128' r='40' fill='%23000'/%3E%3Ccircle cx='128' cy='128' r='24' fill='%23fff'/%3E%3C/svg%3E" />
  <style>
    :root{
      --bg:#0b0b0c;
      --panel:#101113;
      --card:#141518;
      --muted:#aab0b6;
      --text:#f2f4f6;
      --brand:#e60000; /* rojo poké */
      --brand-700:#b80000;
      --accent:#ffae00;
      --success:#12c27d;
      --radius:14px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      background: radial-gradient(1200px 600px at 50% -10%, #141518 0%, var(--bg) 60%);
      color:var(--text);
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    header{
      position:sticky;top:0;z-index:50;
      background: linear-gradient(180deg, #0b0b0ccc 0, #0b0b0caa 70%, transparent);
      backdrop-filter: blur(8px);
      border-bottom:1px solid #1b1c20;
    }
    .nav{display:flex;align-items:center;justify-content:space-between;padding:16px 20px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:40px;height:40px;border-radius:50%;display:grid;place-items:center;
      background: radial-gradient(circle at 50% 40%, #fff 0 48%, #000 50% 52%, #e60000 54% 100%);
      box-shadow: inset 0 -10px 18px rgba(0,0,0,.4), 0 0 0 2px #000;
      position:relative;
    }
    .logo::after{content:"";position:absolute;inset:0;border-radius:50%;
      background: radial-gradient(circle at 50% 50%, transparent 0 34%, #000 35% 36%, transparent 37% 100%);
    }
    .brand-name{font-weight:800;letter-spacing:.4px}
    .cart-btn{
      display:inline-flex;align-items:center;gap:10px;background:var(--brand);
      padding:12px 16px;border-radius:999px;border:none;color:#fff;font-weight:700;
      box-shadow:0 6px 14px rgba(230,0,0,.35);cursor:pointer;transition:.2s;
    }
    .cart-btn:hover{background:var(--brand-700)}
    .cart-count{
      display:inline-grid;place-items:center;min-width:24px;height:24px;padding:0 6px;
      background:#fff;color:#000;border-radius:999px;font-weight:800;font-size:.9rem;
    }

    .hero{padding:34px 20px 10px}
    .hero h1{
      font-size: clamp(26px, 4.2vw, 44px);
      line-height:1.15;margin:0 0 14px;
      text-wrap:balance;
    }
    .subline{
      display:flex;align-items:center;gap:10px;color:#cfd5db;font-size:1rem;
      margin-top:8px;
    }
    .bolt{font-size:1.1rem;color:var(--accent)}
    .spacer{height:18px}

    .grid{
      display:grid;
      grid-template-columns:repeat( auto-fill, minmax(220px, 1fr) );
      gap:16px;
    }
    .card{
      background:var(--card);border:1px solid #1c1e22;border-radius:var(--radius);
      box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column;min-height:340px;
    }
    .thumb{
      width:100%;aspect-ratio:4/3;background:#0f0f10;display:grid;place-items:center;overflow:hidden;
    }
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .thumb .ph{
      width:60%;height:60%;border-radius:12px;border:2px dashed #2b2f36;display:grid;place-items:center;
      color:#6e7681;font-weight:700;font-size:.9rem;
    }
    .card-body{padding:14px 14px 0;display:flex;flex-direction:column;gap:8px;flex:1}
    .title{font-weight:700}
    .price{font-size:1.05rem;font-weight:800}
    .actions{display:flex;gap:10px;padding:12px 14px 14px}
    .btn{
      flex:1;display:inline-flex;justify-content:center;align-items:center;gap:8px;
      padding:10px 12px;border-radius:10px;border:1px solid #262a31;background:#17191d;color:#e9edf2;cursor:pointer;font-weight:700
    }
    .btn.primary{background:var(--brand);border-color:#a10000}
    .btn.primary:hover{background:var(--brand-700)}
    .btn:active{transform:translateY(1px)}
    .muted{color:var(--muted);font-size:.95rem}

    footer{
      margin-top:40px;border-top:1px solid #1b1c20;background:#0a0b0c;
    }
    .footer-inner{display:flex;flex-wrap:wrap;gap:20px;justify-content:space-between;padding:24px 20px}
    .cta{display:inline-flex;align-items:center;gap:10px;background:var(--brand);color:#fff;
         padding:14px 18px;border-radius:12px;font-weight:800}
    .address{max-width:700px}
    .address h3{margin:0 0 6px}
    .small{font-size:.95rem;color:#c7cbd1}
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="nav container">
      <div class="brand">
        <div class="logo" aria-label="MasterHit Pokéball"></div>
        <div class="brand-name">MASTERHIT</div>
      </div>
      <button class="cart-btn" id="openCart">
        <span>🛒 Ver tu Carrito de Compras</span>
        <span class="cart-count" id="cartCount">0</span>
      </button>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero container">
    <h1>Compra sellados, sobres o singles de Pokemon TCG al mejor precio y con entrega rápida en Huechuraba, Lampa, Colina y Quilicura.</h1>
    <div class="subline"><span class="bolt">⚡</span><span>Despachos en 24 horas o menos en Zona Norte de Santiago</span></div>
  </section>

  <div class="spacer"></div>

  <!-- Products -->
  <main class="container">
    <div id="productGrid" class="grid" aria-live="polite"></div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-inner container">
      <div class="address">
        <h3>MasterHit</h3>
        <div class="small">
          Los Nogales 1135, Valle Grande, Lampa<br/>
          Lunes a Viernes 14:00 a 21:00 hrs<br/>
          Sábados y Domingos 12:00 a 20:00 hrs
        </div>
      </div>
      <a class="cta" href="https://wa.me/56937168521" target="_blank" rel="noopener">📲 Contacta a un ejecutivo</a>
    </div>
  </footer>

  <script>
    /**********************
     *  Data (edit here)  *
     **********************/
    // Si ya tienes un JSON externo, puedes reemplazar este array y hacer fetch().
    const PRODUCTS = [
      {
        id:"etb-prismatic-es",
        name:"SV Prismatic Evolutions – Elite Trainer Box (Español)",
        price: 59990,
        image:"https://images.unsplash.com/photo-1597362925123-77861d3fbac7?q=80&w=1200&auto=format&fit=crop"
      },
      {
        id:"upc-mega-charizard-x",
        name:"Mega Charizard X – Ultra Premium Collection (Inglés)",
        price: 135990,
        image:"https://images.unsplash.com/photo-1542751110-97427bbecf20?q=80&w=1200&auto=format&fit=crop"
      },
      {
        id:"box-mewtwo-es",
        name:"Team Rocket’s Mewtwo ex Box (Español)",
        price: 44990,
        image:"https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?q=80&w=1200&auto=format&fit=crop"
      },
      {
        id:"booster-prismatic-en",
        name:"Booster SV Prismatic Evolutions (Inglés)",
        price: 3490,
        image:"" // vacío para probar placeholder seguro
      }
    ];

    /***************************
     *  Cart (mínimo viable)   *
     ***************************/
    const cart = JSON.parse(localStorage.getItem("mh_cart") || "[]");
    const cartCountEl = document.getElementById("cartCount");
    function updateCartCount(){
      const count = cart.reduce((a,i)=>a + (i.qty||1), 0);
      cartCountEl.textContent = String(count);
    }
    function addToCart(prod){
      const found = cart.find(x=>x.id===prod.id);
      if(found){ found.qty = (found.qty||1)+1; }
      else{ cart.push({id:prod.id, name:prod.name, price:prod.price, qty:1}); }
      localStorage.setItem("mh_cart", JSON.stringify(cart));
      updateCartCount();
    }

    /***************************
     *  Render de productos    *
     ***************************/
    const grid = document.getElementById("productGrid");

    function pesoCL(n){ return n.toLocaleString("es-CL", {style:"currency", currency:"CLP", maximumFractionDigits:0}); }

    function makeCard(p){
      const card = document.createElement("article");
      card.className = "card";
      // Thumb
      const th = document.createElement("div");
      th.className = "thumb";
      if (p.image){
        const img = document.createElement("img");
        img.loading = "lazy";
        img.alt = p.name;
        img.src = p.image;
        img.onerror = () => {
          th.innerHTML = "";
          th.appendChild(makePlaceholder());
        };
        th.appendChild(img);
      }else{
        th.appendChild(makePlaceholder());
      }
      // Body
      const body = document.createElement("div"); body.className = "card-body";
      const title = document.createElement("div"); title.className="title"; title.textContent = p.name;
      const price = document.createElement("div"); price.className="price"; price.textContent = pesoCL(p.price);
      body.appendChild(title); body.appendChild(price);

      // Actions
      const actions = document.createElement("div"); actions.className="actions";
      const buy = document.createElement("button");
      buy.className = "btn primary"; buy.textContent = "Añadir al carrito";
      buy.onclick = ()=> addToCart(p);

      const details = document.createElement("a");
      details.className = "btn"; details.textContent = "Ver detalle";
      details.href = "#"; // reemplaza por URL del producto si la tienes

      actions.appendChild(buy); actions.appendChild(details);

      card.appendChild(th); card.appendChild(body); card.appendChild(actions);
      return card;
    }

    function makePlaceholder(){
      const ph = document.createElement("div");
      ph.className = "ph";
      ph.textContent = "Sin imagen";
      return ph;
    }

    function renderProducts(list){
      grid.innerHTML = ""; // NO mostramos “X resultados”
      if(!list || !list.length){
        const empty = document.createElement("div");
        empty.className = "muted";
        empty.textContent = "No hay productos disponibles por ahora.";
        grid.appendChild(empty);
        return;
      }
      const frag = document.createDocumentFragment();
      list.forEach(p => frag.appendChild( makeCard(p) ));
      grid.appendChild(frag);
    }

    /***************************
     *  Bootstrap              *
     ***************************/
    document.addEventListener("DOMContentLoaded", () => {
      renderProducts(PRODUCTS);
      updateCartCount();

      // Checkout básico: redirige (reemplaza por tu Webpay/flow/Shopify/etc.)
      document.getElementById("openCart").addEventListener("click", () => {
        if(cart.length === 0){
          alert("Tu carrito está vacío.");
        }else{
          // Ejemplo: enviar a una página de checkout propia
          // Puedes leer `cart` desde localStorage en /checkout.html
          window.location.href = "/checkout.html";
        }
      });
    });
  </script>
</body>
</html>
