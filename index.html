<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MasterHit | Cartas Pok√©mon en Chile</title>
  <meta name="description" content="MasterHit: tienda de cartas Pok√©mon con carrito de compras y Webpay. Stock completo y precios actualizados." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Ccircle cx='128' cy='128' r='120' fill='%23e60000'/%3E%3Ccircle cx='128' cy='128' r='88' fill='%23fff'/%3E%3Ccircle cx='128' cy='128' r='40' fill='%23000'/%3E%3C/svg%3E" />
  <style>
    :root{
      --bg:#0b0b0c;--card:#111215;--muted:#9aa2ae;--line:#20242b;--fg:#f5f7fb;--accent:#e60000;--accent-2:#ffffff;
      --radius:16px;--shadow:0 10px 30px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    .nav{position:sticky;top:0;z-index:50;background:#000;border-bottom:2px solid var(--accent)}
    .nav-inner{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:14px 20px}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800;color:var(--accent-2)}
    .brand-badge{width:28px;height:28px;border-radius:999px;background:#e60000}
    .searchbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .input,.select{background:var(--card);color:var(--fg);border:1px solid var(--line);border-radius:12px;padding:10px 12px}
    .btn{cursor:pointer;border-radius:12px;border:1px solid var(--line);background:var(--card);color:var(--fg);padding:10px 14px}
    .btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}
    .hero{padding:40px 20px;text-align:center;background:#111;color:#fff}
    .hero h1{font-size:2.2rem;color:var(--accent)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;padding:20px}
    .product{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column}
    .product img{height:200px;object-fit:contain;background:#fff}
    .pad{padding:12px;flex:1;display:flex;flex-direction:column;gap:8px}
    .price{font-weight:700;color:var(--accent-2)}
    .badge{background:var(--accent);color:#fff;padding:4px 8px;border-radius:6px;font-size:.8rem;position:absolute;margin:6px}
    .drawer{position:fixed;right:0;top:0;height:100%;width:400px;max-width:100%;background:#111;color:#fff;border-left:2px solid var(--accent);transform:translateX(100%);transition:.3s;z-index:100;display:flex;flex-direction:column}
    .drawer.open{transform:translateX(0)}
    footer{padding:20px;text-align:center;background:#000;color:#fff;margin-top:30px}
  </style>
</head>
<body>
  <nav class="nav">
    <div class="nav-inner container">
      <a href="#" class="brand"><span class="brand-badge"></span> MASTERHIT</a>
      <div class="searchbar">
        <input id="q" class="input" type="search" placeholder="Buscar cartas..." />
        <button id="btnCart" class="btn primary">üõí <span id="cCount">0</span></button>
      </div>
    </div>
  </nav>

  <section class="hero">
    <h1>MasterHit Pok√©mon Store</h1>
    <p>Compra cajas selladas, ETB, boosters y singles. Todo el stock de Pok√©mon disponible en Chile. Checkout por Webpay pr√≥ximamente.</p>
  </section>

  <section class="container">
    <div id="grid" class="grid"></div>
  </section>

  <aside id="drawer" class="drawer">
    <header style="padding:12px;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center">
      <strong>Tu carrito</strong>
      <button id="btnClose" class="btn">‚úï</button>
    </header>
    <div id="cartBody" style="flex:1;overflow:auto;padding:12px"></div>
    <div style="padding:12px;border-top:1px solid var(--line)">
      <div>Subtotal: <strong id="subtotal">‚Äî</strong></div>
      <div>Total: <strong id="grand">‚Äî</strong></div>
      <button id="btnCheckout" class="btn primary" style="margin-top:10px;width:100%">Proceder a pago (Webpay)</button>
    </div>
  </aside>

  <footer>
    <small>¬© <span id="yy"></span> MasterHit. Todos los derechos reservados.</small>
  </footer>

<script>
const $ = s=>document.querySelector(s);
const $$ = s=>Array.from(document.querySelectorAll(s));
const fmt = n=> new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP',maximumFractionDigits:0}).format(n);

let PRODUCTS = [
  {id:'etb-151', name:'Elite Trainer Box 151', set:'SV151', type:'sealed', price:49990, stock:12, image:'https://dummyimage.com/300x200/fff/000&text=ETB+151'},
  {id:'upc-charizard', name:'Ultra Premium Charizard', set:'Promo', type:'sealed', price:129990, stock:5, image:'https://dummyimage.com/300x200/fff/000&text=UPC+Charizard'},
  {id:'booster-box', name:'Booster Box Scarlet & Violet', set:'SV Base', type:'sealed', price:159990, stock:3, image:'https://dummyimage.com/300x200/fff/000&text=Booster+Box'}
];

let CART = [];

function render(){
  $('#grid').innerHTML = PRODUCTS.map(p=>`
    <div class="product">
      <img src="${p.image}" alt="${p.name}">
      <div class="pad">
        <strong>${p.name}</strong>
        <span>${p.set}</span>
        <span class="price">${fmt(p.price)}</span>
        <button class="btn primary" onclick="addToCart('${p.id}')">A√±adir</button>
      </div>
    </div>
  `).join('');
}

function addToCart(id){
  const p = PRODUCTS.find(x=>x.id===id);
  if(!p) return;
  const item = CART.find(x=>x.id===id);
  if(item) item.qty++; else CART.push({id,qty:1});
  updateCart();
}

function removeFromCart(id){
  CART = CART.filter(x=>x.id!==id);
  updateCart();
}

function updateCart(){
  const body = $('#cartBody');
  let subtotal = 0;
  body.innerHTML = CART.map(it=>{
    const p = PRODUCTS.find(x=>x.id===it.id);
    const total = p.price*it.qty; subtotal+=total;
    return `<div style='display:flex;justify-content:space-between;align-items:center;margin-bottom:8px'>
      <span>${it.qty} x ${p.name}</span>
      <span>${fmt(total)}</span>
      <button class='btn' onclick="removeFromCart('${p.id}')">üóëÔ∏è</button>
    </div>`;
  }).join('') || '<p>Carrito vac√≠o</p>';
  $('#subtotal').textContent = fmt(subtotal);
  $('#grand').textContent = fmt(subtotal);
  $('#cCount').textContent = CART.reduce((a,b)=>a+b.qty,0);
}

$('#btnCart').onclick=()=> $('#drawer').classList.add('open');
$('#btnClose').onclick=()=> $('#drawer').classList.remove('open');
$('#yy').textContent=new Date().getFullYear();
render();
</script>
</body>
</html>
